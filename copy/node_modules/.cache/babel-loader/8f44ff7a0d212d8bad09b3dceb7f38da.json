{"ast":null,"code":"import _slicedToArray from\"C:/react/bubbles/bubble-pupping/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import useSound from\"use-sound\";import popSound from\"../asset/popsound.wav\";import Bubble from\"./Bubble\";import Timer from\"./Timer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StartLevel=function StartLevel(_ref){var setGameOver=_ref.setGameOver,pointCount=_ref.pointCount,setPointCount=_ref.setPointCount,level=_ref.level,setLevel=_ref.setLevel;var _useState=useState(60),_useState2=_slicedToArray(_useState,2),timeToGo=_useState2[0],setTimeToGo=_useState2[1];var boxSize=Math.pow(level+2,2);var _useState3=useState(boxSize),_useState4=_slicedToArray(_useState3,2),bubblesToPop=_useState4[0],setBubblesToPop=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),levelChanged=_useState6[0],setLevelChanged=_useState6[1];var _useSound=useSound(popSound),_useSound2=_slicedToArray(_useSound,1),play=_useSound2[0];var bubblesArr=function bubblesArr(level){var bubbles=[];for(var i=0;i<boxSize;i++){bubbles.push(Math.random()*level);}return bubbles;};var handlePop=function handlePop(e){e.target.style.visibility=\"hidden\";play();setBubblesToPop(bubblesToPop-1);setPointCount(pointCount+=level);//points for each click are equal to level number\n};if(bubblesToPop===0&&timeToGo>0){setBubblesToPop(Math.pow(level+3,2));setLevelChanged(true);}useEffect(function(){setLevelChanged(false);setTimeToGo(10);},[level]);useEffect(function(){var countdown=setTimeout(function(){if(timeToGo>0&&!levelChanged){setTimeToGo(timeToGo-1);}else if(levelChanged){setLevel(level+1);}else{setGameOver(true);setLevel(0);}},1000);},[timeToGo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"timerDiv\",children:/*#__PURE__*/_jsx(Timer,{timeToGo:timeToGo})}),level===1?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null,level===2?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null,level===3?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null,level===4?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null,level===5?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null,level===6?/*#__PURE__*/_jsx(\"div\",{id:\"bubbleDiv\",children:bubblesArr(level).map(function(bubble,index){return/*#__PURE__*/_jsx(Bubble,{handlePop:handlePop,style:\"level\".concat(level)},index);})}):null]});};export default StartLevel;","map":{"version":3,"sources":["C:/react/bubbles/bubble-pupping/src/component/StartLevel.js"],"names":["React","useEffect","useState","useSound","popSound","Bubble","Timer","StartLevel","setGameOver","pointCount","setPointCount","level","setLevel","timeToGo","setTimeToGo","boxSize","bubblesToPop","setBubblesToPop","levelChanged","setLevelChanged","play","bubblesArr","bubbles","i","push","Math","random","handlePop","e","target","style","visibility","countdown","setTimeout","map","bubble","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport useSound from \"use-sound\";\r\nimport popSound from \"../asset/popsound.wav\";\r\nimport Bubble from \"./Bubble\";\r\nimport Timer from \"./Timer\";\r\n\r\nconst StartLevel = ({\r\n  setGameOver,\r\n  pointCount,\r\n  setPointCount,\r\n  level,\r\n  setLevel,\r\n}) => {\r\n  const [timeToGo, setTimeToGo] = useState(60);\r\n  const boxSize = (level + 2) ** 2;\r\n  const [bubblesToPop, setBubblesToPop] = useState(boxSize);\r\n  const [levelChanged, setLevelChanged] = useState(false);\r\n  const [play] = useSound(popSound);\r\n\r\n  const bubblesArr = (level) => {\r\n    let bubbles = [];\r\n    for (let i = 0; i < boxSize; i++) {\r\n      bubbles.push(Math.random() * level);\r\n    }\r\n    return bubbles;\r\n  };\r\n\r\n  const handlePop = (e) => {\r\n    e.target.style.visibility = \"hidden\";\r\n    play();\r\n    setBubblesToPop(bubblesToPop - 1);\r\n    setPointCount((pointCount += level)); //points for each click are equal to level number\r\n  };\r\n\r\n  if (bubblesToPop === 0 && timeToGo > 0) {\r\n    setBubblesToPop((level + 3) ** 2);\r\n    setLevelChanged(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLevelChanged(false);\r\n    setTimeToGo(10);\r\n  }, [level]);\r\n\r\n  useEffect(() => {\r\n    const countdown = setTimeout(() => {\r\n      if (timeToGo > 0 && !levelChanged) {\r\n        setTimeToGo(timeToGo - 1);\r\n      } else if (levelChanged) {\r\n        setLevel(level + 1);\r\n      } else {\r\n        setGameOver(true);\r\n        setLevel(0);\r\n      }\r\n    }, 1000);\r\n  }, [timeToGo]);\r\n\r\n  return (\r\n    <div>\r\n      <div id=\"timerDiv\">\r\n        <Timer timeToGo={timeToGo} />\r\n      </div>\r\n      {level === 1 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {level === 2 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {level === 3 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {level === 4 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {level === 5 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n      {level === 6 ? (\r\n        <div id=\"bubbleDiv\">\r\n          {bubblesArr(level).map((bubble, index) => (\r\n            <Bubble key={index} handlePop={handlePop} style={`level${level}`} />\r\n          ))}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StartLevel;\r\n"]},"metadata":{},"sourceType":"module"}